{"version":3,"sources":["webpack:///./src/components/views/Info.tsx"],"names":["Info","props","state","response","ServerClient","getServerInfo","code","StatusCode","OK","this","setState","serverInfo","payload","error","className","onClose","undefined","id","VERSION","MODE","fixedWidth","icon","windowsHost","faWindows","faLinux","version","apiVersion","dmApiVersion","minimumPasswordLength","instanceLimit","userLimit","userGroupLimit","Object","keys","oAuthProviderInfos","join","text","React","Component"],"mappings":"6iDAoBqBA,E,0QACjB,WAAmBC,GAAe,a,4FAAA,UAC9B,cAAMA,IAEDC,MAAQ,GAHiB,E,6DAO9B,IAAMC,QAAiBC,IAAaC,gBAChCF,EAASG,OAASC,IAAWC,GAC7BC,KAAKC,SAAS,CACVC,WAAYR,EAASS,UAGzBH,KAAKC,SAAS,CACVG,MAAOV,EAASU,S,4PAKK,WAC7B,OACI,yBAAKC,UAAU,eACX,kBAAC,IAAD,CACID,MAAOJ,KAAKP,MAAMW,MAClBE,QAAS,kBAAM,EAAKL,SAAS,CAAEG,WAAOG,OAG1C,4BACI,kBAAC,IAAD,CAAkBC,GAAG,sBAEzB,yBAAKH,UAAU,kBACX,4BACI,kBAAC,IAAD,CAAkBG,GAAG,sBADzB,UAEQC,IAFR,aAEoBC,IAFpB,OAMJ,6BAEA,4BACI,kBAAC,IAAD,CAAkBF,GAAG,sBAGvBR,KAAKP,MAAMW,MAkHT,KAjHCJ,KAAKP,MAAMS,WAGR,yBAAKG,UAAU,kBACX,2BAAOA,UAAU,qBACb,+BACI,4BACI,4BACI,wBAAIA,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,wBAG7B,4BACI,4BACI,kBAAC,IAAD,CACIG,YAAU,EACVC,KACIZ,KAAKP,MAAMS,WAAWW,YAChBC,YACAC,eAM1B,4BACI,4BACI,wBAAIV,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,wBAG7B,4BACI,4BAAKR,KAAKP,MAAMS,WAAWc,WAGnC,4BACI,4BACI,wBAAIX,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,+BAG7B,4BACI,4BAAKR,KAAKP,MAAMS,WAAWe,cAGnC,4BACI,4BACI,wBAAIZ,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,6BAG7B,4BACI,4BAAKR,KAAKP,MAAMS,WAAWgB,gBAGnC,4BACI,4BACI,wBAAIb,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,4BAG7B,4BACI,4BAAKR,KAAKP,MAAMS,WAAWiB,yBAGnC,4BACI,4BACI,wBAAId,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,8BAG7B,4BACI,4BAAKR,KAAKP,MAAMS,WAAWkB,iBAGnC,4BACI,4BACI,wBAAIf,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,0BAG7B,4BACI,4BAAKR,KAAKP,MAAMS,WAAWmB,aAGnC,4BACI,4BACI,wBAAIhB,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,2BAG7B,4BACI,4BAAKR,KAAKP,MAAMS,WAAWoB,kBAGnC,4BACI,4BACI,wBAAIjB,UAAU,QACV,kBAAC,IAAD,CAAkBG,GAAG,sBAG7B,4BACI,4BACKe,OAAOC,KACJxB,KAAKP,MAAMS,WAAWuB,oBAAsB,IAC9CC,KAAK,YAxG/B,kBAAC,IAAD,CAASC,KAAK,uB,8BA9CJC,IAAMC","file":"14.11bfa3051bc276e47742.js","sourcesContent":["import { faLinux } from \"@fortawesome/free-brands-svg-icons/faLinux\";\nimport { faWindows } from \"@fortawesome/free-brands-svg-icons/faWindows\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { FormattedMessage } from \"react-intl\";\n\nimport { Components } from \"../../ApiClient/generatedcode/_generated\";\nimport InternalError, { ErrorCode } from \"../../ApiClient/models/InternalComms/InternalError\";\nimport { StatusCode } from \"../../ApiClient/models/InternalComms/InternalStatus\";\nimport ServerClient from \"../../ApiClient/ServerClient\";\nimport { MODE, VERSION } from \"../../definitions/constants\";\nimport ErrorAlert from \"../utils/ErrorAlert\";\nimport Loading from \"../utils/Loading\";\n\ninterface IProps {}\ninterface IState {\n    serverInfo?: Components.Schemas.ServerInformation;\n    error?: InternalError<ErrorCode>;\n}\n\nexport default class Info extends React.Component<IProps, IState> {\n    public constructor(props: IProps) {\n        super(props);\n\n        this.state = {};\n    }\n\n    public async componentDidMount(): Promise<void> {\n        const response = await ServerClient.getServerInfo();\n        if (response.code === StatusCode.OK) {\n            this.setState({\n                serverInfo: response.payload\n            });\n        } else {\n            this.setState({\n                error: response.error\n            });\n        }\n    }\n\n    public render(): React.ReactNode {\n        return (\n            <div className=\"text-center\">\n                <ErrorAlert\n                    error={this.state.error}\n                    onClose={() => this.setState({ error: undefined })}\n                />\n\n                <h3>\n                    <FormattedMessage id=\"view.info.client\" />\n                </h3>\n                <div className=\"text-secondary\">\n                    <h4>\n                        <FormattedMessage id=\"view.info.version\" />\n                        {`${VERSION} (${MODE})`}\n                    </h4>\n                </div>\n\n                <hr />\n\n                <h3>\n                    <FormattedMessage id=\"view.info.server\" />\n                </h3>\n\n                {!this.state.error ? (\n                    !this.state.serverInfo ? (\n                        <Loading text=\"loading.info\" />\n                    ) : (\n                        <div className=\"text-secondary\">\n                            <table className=\"mx-auto text-left\">\n                                <tbody>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.admin.hostos\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>\n                                                <FontAwesomeIcon\n                                                    fixedWidth\n                                                    icon={\n                                                        this.state.serverInfo.windowsHost\n                                                            ? faWindows\n                                                            : faLinux\n                                                    }\n                                                />\n                                            </h4>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.info.version\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>{this.state.serverInfo.version}</h4>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.info.httpapiversion\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>{this.state.serverInfo.apiVersion}</h4>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.info.dmapiversion\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>{this.state.serverInfo.dmApiVersion}</h4>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.info.minpassword\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>{this.state.serverInfo.minimumPasswordLength}</h4>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.info.instancelimit\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>{this.state.serverInfo.instanceLimit}</h4>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.info.userlimit\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>{this.state.serverInfo.userLimit}</h4>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.info.grouplimit\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>{this.state.serverInfo.userGroupLimit}</h4>\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td>\n                                            <h4 className=\"mr-3\">\n                                                <FormattedMessage id=\"view.info.oauth\" />\n                                            </h4>\n                                        </td>\n                                        <td>\n                                            <h4>\n                                                {Object.keys(\n                                                    this.state.serverInfo.oAuthProviderInfos || {}\n                                                ).join(\", \")}\n                                            </h4>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    )\n                ) : null}\n            </div>\n        );\n    }\n}\n"],"sourceRoot":""}